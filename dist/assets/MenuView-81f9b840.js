import{u as k,a as z,U as B,_ as E,b as I,r as n,o as v,c as L,d as _,e as g,f as V,F as j,g as N,h as x,n as W,i as C,j as M,k as $,l as R,p as T,m as U,q as A,s as F,t as P,v as q,w,x as H,y as O}from"./index-730eee4c.js";/* empty css                                                                    */const D=k(),G={async getCategories(){const o=D.location.site.site_id;if(o)try{const e=await z.get(`${B}/categories/${o}/4`);return e.status===200?e.data:(console.error("An error occurred while fetching the ingredients:",e.status),null)}catch(e){return console.error("An error occurred while fetching the ingredients:",e),null}else return[]}};const J=o=>(T("data-v-90c9a735"),o=o(),U(),o),K={style:{position:"sticky",top:"3.5rem","z-index":"999","background-color":"black",color:"white","overflow-x":"auto"},class:"col-12 nav_bar shadow-3 d-flex lg:justify-content-start align-items-center mb-5 p-0 md:p-0"},Q={class:"d-flex text-white p lg:justify-content-center align-items-center p-0 m-0",style:{gap:"0"}},X={key:0,style:{color:"white"}},Y=J(()=>V("b",null,"| ",-1)),Z=[Y],ee={__name:"BarraCategorias",setup(o){const e=I(),r=n([]),y=(a,l)=>{$.push({name:"sesion",params:{menu_name:a,category_id:l}})};v(async()=>{r.value=await G.getCategories()});const c=a=>R().params.category_id==a,i=[19,24,4,5];return(a,l)=>{var p,m,u;const b=L("Button");return _(),g("div",K,[V("div",Q,[(_(!0),g(j,null,N((u=(m=(p=C(e))==null?void 0:p.menu)==null?void 0:m.listaCategorias)==null?void 0:u.filter(t=>i.includes(parseInt(t.categoria_id))),(t,h)=>{var d,s,f;return _(),g("div",{key:t.categoria_id,class:"p-0",style:{display:"flex","align-items":"center"}},[x(b,{size:"small",onClick:S=>y(t.categoria_descripcion,t.categoria_id),label:t.categoria_descripcion,class:W([c(t.categoria_id)?"selected menu-button":"menu-button","py-3 px-3 mx-0 text-lg titulo"]),style:{"text-transform":"uppercase",width:"max-content",color:"white","border-radius":"0",outline:"none","box-shadow":"color none","font-weight":"bold"}},null,8,["onClick","label","class"]),h<((f=(s=(d=C(e))==null?void 0:d.menu)==null?void 0:s.listaCategorias)==null?void 0:f.filter(S=>i.includes(parseInt(S.categoria_id))).length)-1?(_(),g("span",X,Z)):M("",!0)])}),128))])])}}},te=E(ee,[["__scopeId","data-v-90c9a735"]]),oe={class:"px-0 mx-0 mt-5",style:{"min-height":"100vh"}},re={__name:"MenuView",setup(o){const e=I(),r=A(),y=R(),c=k();c.location.site.site_id||c.setVisible("currentSite",!0),n($.currentRoute),n(localStorage.getItem("currentNeigborhood"));const i=n(window.innerWidth);F(()=>i.value<800);const a=()=>{i.value=window.innerWidth};v(async()=>{window.addEventListener("resize",a),P(),await p()}),q(()=>{window.removeEventListener("resize",a)});const l=n(w.value[0].menus[0]);n({}),H(w,()=>{l.value={category:w.value[0].menus[1].category,products:w.value[0].menus[1].products},console.log("cambio")});const p=async m=>{var t,h,d;const u=c.location.site.site_id;if(y.params.category_id,u){(((h=(t=e.menu)==null?void 0:t.data)==null?void 0:h.length)<1||!((d=e.menu)!=null&&d.data))&&r.setLoading(!0,"cargando productos");try{let s=await fetch(`${B}/get-product-integration/6149/3`);if(!s.ok)throw r.setLoading(!1,"cargando productos"),new Error(`HTTP error! status: ${s.status}`);r.setLoading(!1,"cargando productos");let f=await s.json();e.menu=f.data}catch(s){r.setLoading(!1,"cargando productos"),console.error("Error fetching data: ",s)}}};return v(async()=>{O.value=!0}),(m,u)=>{const t=L("RouterView");return _(),g("div",oe,[x(te),x(t)])}}};export{re as default};
